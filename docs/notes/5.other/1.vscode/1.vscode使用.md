# vscode使用

## 下载

[官网下载](http://vscode.cdn.azure.cn/stable/78a4c91400152c0f27ba4d363eb56d2835f9903a/VSCodeUserSetup-x64-1.52.1.exe)

## 快捷键设置

记录个人顺手的vscode快捷键设置，vscode左下角齿轮->键盘快捷方式中设置

| 命令                                         | 快捷键                | 介绍                     |
| -------------------------------------------- | --------------------- | ------------------------ |
| cursorWordLeft                               | ctrl+LeftArrow        | 光标按单词左移           |
| cursorWordRight                              | ctrl+RightArrow       | 光标按单词右移           |
| cursorHome                                   | PageUp                | 光标移到行首             |
| cursorWordRight                              | PageEnd               | 光标移到行尾             |
| cursorWordLeftSelect                         | ctrl+shift+LeftArrow  | 向左选择单词             |
| cursorWordRightSelect                        | ctrl+shift+RightArrow | 向右选择单词             |
| editor.action.copyLinesDownAction            | ctrl+DownArrow        | 向下复制行               |
| editor.action.triggerSuggest                 | ctr+enter             | 触发建议                 |
| editor.action.showHover                      | ctrl+h                | 显示悬停                 |
| workbench.action.toggleActivityBarVisibility | ctrl+shift+m          | 视图: 切换活动栏可见性   |
| workbench.action.toggleSidebarVisibility     | ctrl+shift+s          | 视图: 切换侧边栏可见性   |
| workbench.action.focusLeftGroup              | ctrl+q                | 视图: 聚焦到左侧编辑器组 |
| workbench.action.focusRightGroup             | ctrl+e                | 视图: 聚焦到右侧编辑器组 |
| workbench.action.closeActiveEditor           | ctrl+d                | 视图: 关闭编辑器         |
| workbench.action.closeAllEditors             | ctrl+shift+d          | 视图: 关闭所有编辑器     |
| workbench.action.previousEditor              | ctrl+1                | 视图: 打开上一个编辑器   |
| workbench.action.nextEditor                  | ctrl+3                | 视图: 打开下一个编辑器   |
| workbench.action.splitEditorRight            | ctrl+k                | 视图: 向右拆分编辑器     |
| deleteWordLeft                               | ctrl+backpace         | 删除左侧单词             |
| deleteWordRight                              | ctrl+delete           | 删除右侧单词             |
| selectNextSuggestion                         | DownArrow             | 循环选择提示列表         |

alt+鼠标左键可选中多个文本

## 搜索node_modules内文件

ctrl+0 聚焦侧边栏

直接输入想要查找的npm包名

## 打开新文件会覆盖之前打开的文件 tab

设置->搜索enablePreview->取消勾选

或settings.json中加入

```json
 "workbench.editor.enablePreview": false
```

## 空行过多

清除空行，vscode中ctrl+f 搜索，选择使用正则表达式

```bash
^\s*(?=\r?$)\n
```

## vscode识别路径别名如@

项目根目录新建jsconfig.json，vscode读取该json文件中内容，来拓展默认配置，以下代码配置路径别名

需要重启vscode才能生效

```json
{
  "compilerOptions": {
    "baseUrl": "./",
    "paths": {
      "@/*":["src/*"]
    },
    "exclude":["node_modules","dist"]
  }
}
```

## settings.json

左下角>设置>settings.json，进行vscode与各种插件的配置

如果当前项目有特定的vscode配置

当前项目新建.vscode>settings.json,其中的配置只在当前项目生效

```json
{
  "explorer.confirmDragAndDrop": false, // 控制在资源管理器内拖放移动文件或文件夹时是否进行确认
  "explorer.confirmDelete": false, // 控制资源管理器是否在把文件删除到废纸篓时进行确认
  "explorer.compactFolders": false, // 控制资源管理器是否应以紧凑形式呈现文件夹
  "emmet.triggerExpansionOnTab": true, // 按下 TAB 键，将展开 Emmet 缩写
  "emmet.includeLanguages": {
    "wxml": "html",
    "vue-html": "html",
    "javascript": "javascriptreact" // 用于支持react的jsx写法
  },
  "javascript.updateImportsOnFileMove.enabled": "always", // 启用或禁用在重命名或移动文件时自动更新导入路径的功能
  "javascript.format.insertSpaceBeforeFunctionParenthesis": true, // 函数前加上空格
  "editor.formatOnSave": true, // 每次保存自动格式化
  "editor.formatOnType": true, // 控制编辑器在键入一行后是否自动格式化该行
  "editor.guides.bracketPairsHorizontal": true, // 输入一个括号自动补全
  "editor.detectIndentation": false, // 控制是否在打开文件时，基于文件内容自动检测 #editor.tabSize# 和 #editor.insertSpaces#。
  // 每次保存的时候将代码按eslint格式进行修复
  // "editor.codeActionsOnSave": {
  //     "source.fixAll.eslint": true
  // },
  "editor.minimap.enabled": false, //是否显示缩略图
  "editor.fontSize": 14, // 字体大小
  "editor.wordWrap": "on", // 根据视区宽度折行
  "editor.tabSize": 2, // 换行默认以tab缩进 4个字符
  "editor.colorDecorators": true, // 控制编辑器是否显示内联颜色修饰器和颜色选取器
  "editor.autoClosingQuotes": "always", // 控制编辑器是否在左引号后自动插入右引号
  "editor.autoClosingBrackets": "always", // 控制编辑器是否在左括号后自动插入右括号
  "editor.autoClosingDelete": "always", // 控制在删除时编辑器是否应删除相邻的右引号或右方括号
  "editor.autoClosingOvertype": "always", // 控制编辑器是否应改写右引号或右括号
  "editor.bracketPairColorization.enabled": true, // 控制是否启用括号对着色
  "editor.guides.bracketPairs": true, // 控制是否启用括号对指南
  // 配置语言的文件关联 (如: "*.extension": "html")。这些关联的优先级高于已安装语言的默认关联。
  "files.associations": {
    "*.cjson": "jsonc",
    "*.wxss": "css",
    "*.wxs": "javascript",
    "*.vue": "vue",
    "*.cshtml": "html",
    "*.dwt": "html",
    "*.tsx": "typescriptreact"
  },
  "liveServer.settings.port": 0,
  // 设置不同后缀的文件使用相应的格式化工具，主要还是使用prettier
  "[html]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[vue]": {
    "editor.defaultFormatter": "octref.vetur"
  },
  "[css]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[less]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[scss]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[javascriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[json]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[markdown]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "vetur.underline.refValue": true, // Enable underline `.value` when using composition API.
  "vetur.ignoreProjectWarning": true, // Vetur will warn about not setup correctly for the project. You can disable it.
  "compile-hero.jade-output-directory": "./",
  "compile-hero.less-output-directory": "./",
  "compile-hero.pug-output-directory": "./",
  "compile-hero.sass-output-directory": "./",
  "compile-hero.scss-output-directory": "./",
  "bracketPairColorizer.showVerticalScopeLine": false,
  "bracketPairColorizer.showHorizontalScopeLine": false,
  "bracketPairColorizer.colorMode": "Independent",
  "javascript.format.insertSpaceAfterOpeningAndBeforeClosingEmptyBraces": false,
  "typescript.format.insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces": false,
  "typescript.format.insertSpaceAfterOpeningAndBeforeClosingEmptyBraces": false,
  "prettier.arrowParens": "avoid",
  "prettier.endOfLine": "auto",
  "prettier.semi": false,
  "prettier.printWidth": 10000,
  "prettier.proseWrap": "always",
  "prettier.useEditorConfig": false,
  "prettier.trailingComma": "none",
  "prettier.htmlWhitespaceSensitivity": "ignore",
  "vetur.format.defaultFormatter.html": "js-beautify-html",
  "vetur.format.defaultFormatterOptions": {
    "js-beautify-html": {
      "wrap_line_length": 1720,
      "wrap_attributes": "auto",
      "end_with_newline": false
    },
    "prettier": {
      "singleQuote": true, // 如果为 true，将使用单引号而不是双引号
      "semi": false, // 是否在每行末尾添加分号
      "printWidth": 1000, //  每行超过多少字符自动换行
      "wrapAttributes": false, // html标签属性换行
      "sortAttributes": false,
      "trailingComma": "none" // 尽可能控制尾随逗号的输出
    }
  },
  "vetur.format.defaultFormatter.js": "vscode-typescript", //让vue中的js按编辑器自带的ts格式进行格式化
  "liveSassCompile.settings.formats": [
    {
      "format": "nested", // nested/expanded/compact/compressed
      "extensionName": ".css",
      "savePath": null // 为null代表当前目录
    }
  ],
  "liveSassCompile.settings.generateMap": false,
  "liveSassCompile.settings.autoprefix": [
    "> 1%",
    "last 2 versions"
  ],
  "liveSassCompile.settings.excludeList": [
    "**/node_modules/**",
    ".vscode/**"
  ],
  "volar.takeOverMode.enabled": false,
  "workbench.editor.enablePreview": false, // 打开文件时覆盖旧的tab
  "bracketPairColorizer.depreciation-notice": false,
  "http.proxyStrictSSL": false,
  "markdown.preview.breaks": true,
  "cssrem.wxssDeviceWidth": 1691,
  "cssrem.wxssScreenWidth": 782,
  "cssrem.rootFontSize": 169.1
}
```
